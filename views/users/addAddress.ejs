<%- include("../layouts/user_header.ejs") %>
<div class="add-address-container" style="background-color: lightgrey;">
    <div class="add-address-header">
        <h2>Add New Address</h2>
    </div>
    <form class="address-form" action="/post_add_address" method="POST" onsubmit="return validateForm()">
        <div class="form-group">
            <label for="username">House Name</label>
            <input type="text" id="username" name="houseName" placeholder="Enter your Housename" >
            <small id="houseNameError" class="error-message"></small>
        </div>
        <div class="form-group">
            <label for="address1">Pincode</label>
            <input type="text" id="address1" name="pinCode" placeholder="Pincode" >
            <small id="pinCodeError" class="error-message"></small>
        </div>
        <div class="form-group">
            <label for="address2">Post</label>
            <input type="text" id="address2" name="po" placeholder="Post Office nearby" >
            <small id="postError" class="error-message"></small>
        </div>
        <div class="form-group">
            <label for="mobile">Locality</label>
            <input type="text" id="mobile" name="location" placeholder="Enter Locality" >
            <small id="localityError" class="error-message"></small>
        </div>

        <div class="form-group">
            <label for="state">State</label>
            <input type="text" id="state" name="state" placeholder="State" >
            <small id="stateError" class="error-message"></small>
        </div>

        <div class="form-group">
            <label for="address">Address</label>
            <input type="text" id="address" name="address" placeholder="Address" >
            <small id="addressError" class="error-message"></small>
        </div>
        <div class="form-actions">
            <button type="submit" class="save-btn">Save</button>
            <button type="button" class="cancel-btn" onclick="window.history.back();">Cancel</button>
        </div>
    </form>
</div>

<style>
    .add-address-container {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        max-width: 500px;
        margin: 20px auto;
    }
    .add-address-header {
        text-align: center;
        margin-bottom: 20px;
    }
    .add-address-header h2 {
        margin: 0;
        font-size: 22px;
        color: #333;
    }
    .address-form {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    .form-group {
        display: flex;
        flex-direction: column;
    }
    .form-group label {
        font-size: 14px;
        color: #555;
        margin-bottom: 5px;
    }
    .form-group input {
        padding: 10px;
        font-size: 14px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    .form-group .error-message {
        color: red;
        font-size: 12px;
        margin-top: 5px;
    }
    .form-actions {
        display: flex;
        justify-content: space-between;
    }
    .save-btn {
        background-color: #3b78e7;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .cancel-btn {
        background-color: #e74c3c;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .save-btn:hover, .cancel-btn:hover {
        opacity: 0.9;
    }
</style>

<script>
    function validateForm() {
        let isValid = true;

        // House Name
        const houseName = document.getElementById("username");
        if (!houseName.value.trim()) {
            document.getElementById("houseNameError").innerText = "House name is required.";
            isValid = false;
        } else {
            document.getElementById("houseNameError").innerText = "";
        }

        // Pincode
        const pinCode = document.getElementById("address1");
        if (!/^\d{6}$/.test(pinCode.value.trim())) {
            document.getElementById("pinCodeError").innerText = "Enter a valid 6-digit pincode.";
            isValid = false;
        } else {
            document.getElementById("pinCodeError").innerText = "";
        }

        // Post
        const post = document.getElementById("address2");
        if (!post.value.trim()) {
            document.getElementById("postError").innerText = "Post is required.";
            isValid = false;
        } else {
            document.getElementById("postError").innerText = "";
        }

        // Locality
        const locality = document.getElementById("mobile");
        if (!locality.value.trim()) {
            document.getElementById("localityError").innerText = "Locality is required.";
            isValid = false;
        } else {
            document.getElementById("localityError").innerText = "";
        }

        // State
        const state = document.getElementById("state");
        if (!state.value.trim()) {
            document.getElementById("stateError").innerText = "State is required.";
            isValid = false;
        } else {
            document.getElementById("stateError").innerText = "";
        }

        // Address
        const address = document.getElementById("address");
        if (!address.value.trim()) {
            document.getElementById("addressError").innerText = "Address is required.";
            isValid = false;
        } else {
            document.getElementById("addressError").innerText = "";
        }

        return isValid;
    }
</script>

<%- include("../layouts/user_footer.ejs") %>
